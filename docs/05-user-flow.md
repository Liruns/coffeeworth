# 사용자 플로우

## 1. 크리에이터 플로우

### 1.1 가입 및 설정

```
[랜딩 페이지]
     |
     v
[카카오 로그인] ──────────────────┐
     |                          |
     v                          v
[신규 사용자]              [기존 사용자]
     |                          |
     v                          v
[프로필 설정]              [대시보드]
  - 닉네임
  - 프로필 이미지
  - 자기소개
  - 커스텀 URL
     |
     v
[커피 가격 설정]
  - 기본 3,000원
  - 변경 가능
     |
     v
[계좌 정보 입력]
  - 은행 선택
  - 계좌번호
  - 예금주
     |
     v
[설정 완료!]
  - 내 페이지 미리보기
  - 뱃지 코드 복사
```

### 1.2 뱃지/위젯 설치

```
[대시보드]
     |
     v
[연동 도구 탭]
     |
     +──> [GitHub 뱃지]
     |      - 마크다운 코드 복사
     |      - README.md에 붙여넣기
     |
     +──> [블로그 위젯]
     |      - HTML 코드 복사
     |      - 블로그에 붙여넣기
     |
     +──> [링크 공유]
            - URL 복사
            - SNS에 공유
```

### 1.3 후원 확인 및 정산

```
[후원 발생]
     |
     v
[알림 수신]
  - 이메일 알림
  - (추후) 카카오톡 알림
     |
     v
[대시보드에서 확인]
  - 후원자 정보
  - 메시지
  - 금액
     |
     v
[주간 정산] (매주 금요일)
     |
     v
[정산 처리]
  - 총 후원액 - 수수료(5%) - PG수수료(~3%)
  - 최소 10,000원 이상
     |
     v
[계좌 입금]
  - 익일 입금
```

---

## 2. 후원자 플로우

### 2.1 후원하기 (비회원)

```
[크리에이터 페이지 방문]
  - 링크 클릭
  - GitHub 뱃지 클릭
  - 블로그 위젯 클릭
     |
     v
[페이지 확인]
  - 크리에이터 정보
  - 소개글
     |
     v
[커피 개수 선택]
  - 1잔 (3,000원)
  - 3잔 (9,000원)
  - 5잔 (15,000원)
  - 직접 입력
     |
     v
[응원 메시지 작성] (선택)
  - 텍스트 입력
  - 익명 체크박스
     |
     v
[결제 수단 선택]
  - 카카오페이
  - 토스페이
  - 신용카드
     |
     v
[결제 진행]
  - 결제 앱 연동
  - 결제 완료
     |
     v
[완료 화면]
  - 감사 메시지
  - 크리에이터 다른 링크
```

### 2.2 결제 상세 플로우

```
[카카오페이 선택]
     |
     v
[카카오페이 앱 실행]
  - QR 결제 또는
  - 앱 자동 실행
     |
     v
[결제 승인]
  - 비밀번호/생체인증
     |
     v
[결제 완료]
  - 콜백 처리
  - 완료 화면
```

---

## 3. 화면 목록

### 3.1 공개 페이지
| 화면 | URL | 설명 |
|------|-----|------|
| 랜딩 페이지 | / | 서비스 소개 |
| 크리에이터 페이지 | /{username} | 후원 페이지 |
| 후원 완료 | /{username}/thanks | 감사 화면 |

### 3.2 인증 페이지
| 화면 | URL | 설명 |
|------|-----|------|
| 로그인 | /login | 로그인 선택 |
| 회원가입 | /signup | 추가 정보 입력 |

### 3.3 대시보드 (로그인 필요)
| 화면 | URL | 설명 |
|------|-----|------|
| 대시보드 홈 | /dashboard | 요약 정보 |
| 후원 내역 | /dashboard/supporters | 후원 목록 |
| 정산 | /dashboard/payout | 정산 내역/신청 |
| 연동 도구 | /dashboard/tools | 뱃지/위젯 코드 |
| 설정 | /dashboard/settings | 프로필/계좌 |

---

## 4. 상태 다이어그램

### 4.1 후원 상태

```
[결제 시작] ──> [결제 대기] ──> [결제 완료] ──> [정산 대기] ──> [정산 완료]
                    |
                    v
               [결제 실패]
                    |
                    v
               [결제 취소]
```

### 4.2 정산 상태

```
[정산 대기] ──> [정산 처리 중] ──> [정산 완료]
                    |
                    v
               [정산 실패]
                    |
                    v
               [수동 확인 필요]
```

---

## 5. 에러 케이스

### 5.1 후원 시
| 에러 | 대응 |
|------|------|
| 결제 실패 | 다시 시도 안내 |
| 결제 취소 | 이전 화면으로 |
| 네트워크 오류 | 재시도 버튼 |
| 크리에이터 없음 | 404 페이지 |

### 5.2 정산 시
| 에러 | 대응 |
|------|------|
| 최소 금액 미달 | 안내 메시지 |
| 계좌 정보 오류 | 수정 요청 |
| 정산 실패 | 관리자 확인 |

---

## 6. 알림

### 6.1 크리에이터 알림
| 이벤트 | 채널 | 내용 |
|--------|------|------|
| 새 후원 | 이메일 | 후원자, 금액, 메시지 |
| 정산 완료 | 이메일 | 정산 금액, 계좌 |
| 정산 실패 | 이메일 | 실패 사유, 조치 방법 |

### 6.2 후원자 알림
| 이벤트 | 채널 | 내용 |
|--------|------|------|
| 결제 완료 | 화면 | 감사 메시지 |
| (선택) 영수증 | 이메일 | 결제 내역 |
